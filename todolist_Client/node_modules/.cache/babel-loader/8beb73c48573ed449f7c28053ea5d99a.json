{"ast":null,"code":"'use strict';\n\nconst AuthProvider = require('./auth_provider').AuthProvider;\n/**\n * Creates a new X509 authentication mechanism\n * @class\n * @extends AuthProvider\n */\n\n\nclass X509 extends AuthProvider {\n  /**\n   * Implementation of authentication for a single connection\n   * @override\n   */\n  _authenticateSingleConnection(sendAuthCommand, connection, credentials, callback) {\n    const username = credentials.username;\n    const command = {\n      authenticate: 1,\n      mechanism: 'MONGODB-X509'\n    };\n\n    if (username) {\n      command.user = username;\n    }\n\n    sendAuthCommand(connection, '$external.$cmd', command, callback);\n  }\n\n}\n\nmodule.exports = X509;","map":{"version":3,"sources":["/home/hoangnd/source/ReactJS/todolist/node_modules/mongodb/lib/core/auth/x509.js"],"names":["AuthProvider","require","X509","_authenticateSingleConnection","sendAuthCommand","connection","credentials","callback","username","command","authenticate","mechanism","user","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,iBAAD,CAAP,CAA2BD,YAAhD;AAEA;;;;;;;AAKA,MAAME,IAAN,SAAmBF,YAAnB,CAAgC;AAC9B;;;;AAIAG,EAAAA,6BAA6B,CAACC,eAAD,EAAkBC,UAAlB,EAA8BC,WAA9B,EAA2CC,QAA3C,EAAqD;AAChF,UAAMC,QAAQ,GAAGF,WAAW,CAACE,QAA7B;AACA,UAAMC,OAAO,GAAG;AAAEC,MAAAA,YAAY,EAAE,CAAhB;AAAmBC,MAAAA,SAAS,EAAE;AAA9B,KAAhB;;AACA,QAAIH,QAAJ,EAAc;AACZC,MAAAA,OAAO,CAACG,IAAR,GAAeJ,QAAf;AACD;;AAEDJ,IAAAA,eAAe,CAACC,UAAD,EAAa,gBAAb,EAA+BI,OAA/B,EAAwCF,QAAxC,CAAf;AACD;;AAb6B;;AAgBhCM,MAAM,CAACC,OAAP,GAAiBZ,IAAjB","sourcesContent":["'use strict';\n\nconst AuthProvider = require('./auth_provider').AuthProvider;\n\n/**\n * Creates a new X509 authentication mechanism\n * @class\n * @extends AuthProvider\n */\nclass X509 extends AuthProvider {\n  /**\n   * Implementation of authentication for a single connection\n   * @override\n   */\n  _authenticateSingleConnection(sendAuthCommand, connection, credentials, callback) {\n    const username = credentials.username;\n    const command = { authenticate: 1, mechanism: 'MONGODB-X509' };\n    if (username) {\n      command.user = username;\n    }\n\n    sendAuthCommand(connection, '$external.$cmd', command, callback);\n  }\n}\n\nmodule.exports = X509;\n"]},"metadata":{},"sourceType":"script"}